<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wegether.app.mapper.PointMapper">
<!-- 회원가입 2000원 적립   -->
    <insert id="insertJoinPoint">
    INSERT INTO TBL_POINT
    (ID, MEMBER_ID, POINT_HISTORY, POINT_CATEGORY)
    VALUES(SEQ_POINT.NEXTVAL, #{memberId}, 2000, 'ADD'
    )
    </insert>

    <select id="selectPoint" resultType="pointDTO">
    SELECT M.MEMBER_NAME, M.MEMBER_POINT, P.POINT_HISTORY , P.POINT_CATEGORY , P.DATA_ID , D.DATA_TITLE, D.DATA_SCHOOL , D.DATA_MAJOR
    FROM TBL_MEMBER M JOIN TBL_POINT P ON M.ID=P.MEMBER_ID
    LEFT OUTER JOIN TBL_DATA D
    ON P.DATA_ID =D.ID WHERE P.MEMBER_ID =#{memberId}
    </select>
</mapper>