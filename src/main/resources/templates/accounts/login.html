<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleag.org">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

    <link
            rel="stylesheet"
            type="text/css"
            href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/variable/pretendardvariable.css"
    />

    <link rel="stylesheet" href="/css/common/common.css">
    <link rel="stylesheet" href="/css/common/style.css">
    <link rel="stylesheet" href="/css/account/login/login.css">
    <link rel="stylesheet" href="/css/account/account-header.css">
    <link rel="stylesheet" href="/css/account/find/find.css">
    <link rel="stylesheet" href="/css/modal/modal.css">

    <title>로그인 | 위게더</title>
</head>
<body>
<div class="modal">
    <div class="warn-modal">
        <div id="content-wrap"></div>
    </div>
</div>
<div id="page-container">
    <header th:replace="~{/accounts/account-header :: #wz-header}"></header>
    <!-- [S] Header -->
    <!-- [E] Header -->

    <!-- [S] Contents -->

    <main class="account-intro-login">
        <div class="user-sign-container">
            <div class="wz container form-container form-login">
                <h2 class="wz text display2">로그인</h2>
                <form name="frm_login" id="frm_login" th:action="@{/accounts/login}" method="post" class="wz form"
                      th:object="${memberVO}">
                    <input type="hidden" name="list" th:value="${param.list}">
                    <input type="hidden" name="id" th:value="${param.id}">
                    <div class="field">
                        <div class="wz input">
                            <input
                                    type="email"
                                    th:field="*{memberId}"
                                    class="input-text"
                                    placeholder="이메일 입력"
                                    title="이메일 입력"
                            />
                        </div>
                        <em id="emailError" class="error-text helper error"
                        >이메일 형식이 올바르지 않습니다.</em
                        >
                    </div>
                    <div class="field">
                        <div class="wz input">
                            <input
                                    type="password"
                                    th:field="*{memberPassword}"
                                    class="input-text"
                                    maxlength="20"
                                    placeholder="비밀번호 입력"
                                    title="비밀번호 입력"
                            />
                        </div>
                        <p id="loginError" class="error-text helper error">
                            위게더에 등록되지 않은 아이디거나, 아이디 또는 비밀번호가 회원정보와 일치하지
                            않습니다.
                        </p>
                    </div>

                    <div class="login-action">
                        <p class="forgot">
                            <a class="wz text" th:href="@{/accounts/find/id}" data-event="iam.signin.goto.forgot"
                            >로그인 정보를 잊으셨나요?</a
                            >
                        </p>
                    </div>
                    <button
                            type="submit"
                            id="btnLogin"
                            class="wz button primary block submit-button"
                    >
                        로그인
                    </button>
                    <input type="hidden" name="returnURL" value=""/>
                </form>
                <div id="iam-account-app">
                    <div>
                        <div>
                            <button
                                    class="kakao-button Button_button__3MO4n Button_lg__D7OVb Button_block__3npc4 SNSButtonList_kakaoButton__2lTDs SNSButtonList_spacer__38ac5"
                                    type="button"
                            >
                    <span
                    ><span class="Button_children__raEW4"
                    ><svg
                            viewBox="0 0 32 32"
                            focusable="false"
                            role="presentation"
                            class="withIcon_icon__2KxnX SNSButtonList_kakaoIcon__1s6gw"
                            aria-hidden="true"
                    >
                          <path
                                  d="M16 4.64c-6.96 0-12.64 4.48-12.64 10.08 0 3.52 2.32 6.64 5.76 8.48l-.96 4.96 5.44-3.6 2.4.16c6.96 0 12.64-4.48 12.64-10.08S22.96 4.56 16 4.64z"
                          ></path></svg
                    >카카오로 시작하기</span
                    ></span
                    ></button
                            >
                            <button
                                    class="Button_button__3MO4n Button_lg__D7OVb Button_block__3npc4 SNSButtonList_naverButton__1rzZ_ SNSButtonList_spacer__38ac5 naver-button"
                                    type="button"
                            >
                            <div id="naver_id_login" style="opacity: 0; height: 0px"></div>
                    <span
                    ><span class="Button_children__raEW4"
                    ><svg
                            viewBox="0 0 32 32"
                            focusable="false"
                            role="presentation"
                            class="withIcon_icon__2KxnX SNSButtonList_naverIcon__3TjPM"
                            aria-hidden="true"
                    >
                          <path
                                  d="M19.52 5.76v10.32L12.48 5.76H4.8v20.48h7.68V15.92l7.12 10.32h7.6V5.76z"
                          ></path></svg
                    >네이버로 시작하기</span
                    ></span
                    >
                    <!--        </button>-->
                            <!--
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="bottom-message">
                                                <p>
                                                    아직 위게더 계정이 없나요?<a
                                                        href="../regist/register.html"
                                                        data-return-url=""
                                                        data-event="iam.signin.goto.signup"
                                                >회원가입</a
                                                >
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                </main>

                                [E] Contents -->

                            <!-- [S] Footer -->
                            <!-- [E] Footer -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>
</body>
<!--<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>-->
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
<script src="/js/account/login/login.js"></script>
<script src="/js/modal/modal.js"></script>
<script type="text/javascript">
    var naver_id_login = new naver_id_login("yPLfiIWc1PIqc4_vQtH5", "http://localhost:10000/accounts/naver-login");
    var state = naver_id_login.getUniqState();
    naver_id_login.setButton("green", 5, 40);
    naver_id_login.setDomain("http://localhost:10000");
    naver_id_login.setState(state);
    naver_id_login.init_naver_id_login();
</script>
<script th:inline="javascript">

    let check = [[${login}]];
    let statusCheck =[[${status}]];
    let loginStatusCheck = [[${loginStatus}]];
    let joinStatus = [[${join}]];

    //네이버는 js로 사용해서 적응이안되네용..
    let naverLoginStatus = new URLSearchParams(window.location.search);

    if(naverLoginStatus.get('status')){
        showWarnModal("<span>SNS 연동 설정</span><span>확인해주세요.</span>");
    }

    $('.kakao-button').on("click",function () {
           location.href="https://kauth.kakao.com/oauth/authorize?client_" +
               "id=4d189f87999895c1fba5bb291861d41d&redirect_uri=http://localhost:10000/login&response_type=code";
    })


    if (check) {
        showWarnModal("<span>아이디 또는 비밀번호를</span><span>확인해주세요.</span>");
    }

    if(statusCheck){
        showWarnModal("<span>SNS 연동 설정</span><span>확인해주세요.</span>");
    }

    if(loginStatusCheck){
        showWarnModal("<span>SNS 연동 계정입니다</span><span>연동 로그인해주세요.</span>");
    }

    if(joinStatus){
        showWarnModal("<span>회원가입을 축하드립니다</span><br><span>Welcome Event</span><br><span>2000 Point 적립</span>");
    }



</script>
</html>
